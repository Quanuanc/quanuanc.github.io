<!doctype html><html><head>
<title>[译] 使用 VS Code 和 WSL 搭建 C++ 开发环境</title>
<meta charset=utf-8>
<meta name=X-UA-Compatible content="IE=edge">
<meta name=google-site-verification content>
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport>
<meta content="telephone=no" name=format-detection>
<meta name=description content>
<meta name=renderer content="webkit">
<meta name=theme-color content="#ffffff">
<meta property="og:title" content="[译] 使用 VS Code 和 WSL 搭建 C++ 开发环境">
<meta property="og:description" content="译者序 本文翻译自 Visual Studio Code 官方说明文档 Using C++ and WSL in VS Code
本文根据原文内容意译，而非逐词逐句翻译，如需了解更多，推荐阅读原文
 在本教程中，你将配置 Visual Studio Code，在 Windows Linux 子系统（WSL） Ubuntu 中使用 GCC C++编译器（g++）和 GDB 调试器。GCC 代表了 GNU 编译器集合，GDB 是 GNU 调试器。WSL 是 Windows 中的 Linux 环境，它直接运行在计算机硬件上，而非虚拟机中。
 Note: 本教程的大部分内容适用于直接在 Linux 机器上使用 C++ 和 VS Code。
 先决条件  安装 Visual Studio Code（译者注：推荐下载 Zip 版本，开启 便携模式） 安装 Remote - WSL 扩展 安装 WSL，可以按照个人习惯选择 Linux 发行版。本文使用 Ubuntu  设置 Linux 环境  打开 WSL，进入系统中。   建立 projects 文件夹，然后再建立 helloworld 子文件夹">
<meta property="og:type" content="article">
<meta property="og:url" content="https://quanuanc.github.io/posts/vscode-wsl-cpp/"><meta property="og:image" content="https://gitee.com/antfly2021/PicGo-IMG/raw/master/vscode-with-backgroud.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-02-07T00:00:00+00:00">
<meta property="article:modified_time" content="2020-02-07T00:00:00+00:00"><meta property="og:site_name" content="Quanuanc's Blog">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://gitee.com/antfly2021/PicGo-IMG/raw/master/vscode-with-backgroud.png">
<meta name=twitter:title content="[译] 使用 VS Code 和 WSL 搭建 C++ 开发环境">
<meta name=twitter:description content="译者序 本文翻译自 Visual Studio Code 官方说明文档 Using C++ and WSL in VS Code
本文根据原文内容意译，而非逐词逐句翻译，如需了解更多，推荐阅读原文
 在本教程中，你将配置 Visual Studio Code，在 Windows Linux 子系统（WSL） Ubuntu 中使用 GCC C++编译器（g++）和 GDB 调试器。GCC 代表了 GNU 编译器集合，GDB 是 GNU 调试器。WSL 是 Windows 中的 Linux 环境，它直接运行在计算机硬件上，而非虚拟机中。
 Note: 本教程的大部分内容适用于直接在 Linux 机器上使用 C++ 和 VS Code。
 先决条件  安装 Visual Studio Code（译者注：推荐下载 Zip 版本，开启 便携模式） 安装 Remote - WSL 扩展 安装 WSL，可以按照个人习惯选择 Linux 发行版。本文使用 Ubuntu  设置 Linux 环境  打开 WSL，进入系统中。   建立 projects 文件夹，然后再建立 helloworld 子文件夹">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-189135125-1','auto'),ga('send','pageview'))</script>
<script src=/vendor/js/jquery.min.js></script>
<script src=/vendor/js/popper.min.js></script>
<script src=/vendor/js/bootstrap.min.js></script>
<script src=/vendor/js/smooth-scroll.polyfills.min.js></script>
<link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css>
<script src=/vendor/js/vue.min.js></script>
<link rel=stylesheet href=https://quanuanc.github.io/scss/journal.min.ee4985d04b3e3106a3d9070fd756b462eeff6233e337c8bfb764f673f97560cf.css integrity="sha256-7kmF0Es+MQaj2QcP11a0Yu7/YjPjN8i/t2T2c/l1YM8=" media=screen>
<link rel=stylesheet href=https://quanuanc.github.io/scss/dark-mode.min.cedb0841a6a29851e33b0743ae106fc4dfe2b9ea56424864f0338ecf509d8abd.css integrity="sha256-ztsIQaaimFHjOwdDrhBvxN/iuepWQkhk8DOOz1Cdir0=" media=screen>
<script src=https://quanuanc.github.io//js/loadCSS.js></script>
<script>loadCSS("https://fonts.googleapis.com/css?family=Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons")</script>
<script src=https://quanuanc.github.io//js/toc-collapse.js></script>
<script src=https://unpkg.com/valine@1.4.14/dist/Valine.min.js></script>
</head>
<body>
<div id=app><div ref=sideContainer class=side-container>
<a class="a-block nav-head false" href=https://quanuanc.github.io/>
<div class=nav-title>
太阳照常升起
</div>
<div class=nav-subtitle>
Quanuanc's Blog
</div>
</a>
<div class=nav-link-list>
<a class="a-block nav-link-item active" href=/posts>
归档
</a>
<a class="a-block nav-link-item false" href=/categories>
分类
</a>
<a class="a-block nav-link-item false" href=/about>
关于
</a>
<a class="a-block nav-link-item false" href=/index.xml>
RSS
</a>
</div>
<div class=nav-footer>
Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a>
<br>
&copy;
Quanuanc
</div>
</div><div ref=extraContainer class=extra-container>
<div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">
<div class=toc-content>
<center>- 目录 -</center>
<ul>
<ul class=collapse data-toggle=collapse>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e8%af%91%e8%80%85%e5%ba%8f onclick="onNavClick(`#译者序-nav`)" id=译者序-nav>
译者序
</a>
</li>
</ul>
</ul>
<li>
<a href=#%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 onclick="onNavClick(`#先决条件-nav`)" id=先决条件-nav>
先决条件
</a>
</li>
<li>
<a href=#%e8%ae%be%e7%bd%ae-linux-%e7%8e%af%e5%a2%83 onclick="onNavClick(`#设置-linux-环境-nav`)" id=设置-linux-环境-nav>
设置 Linux 环境
</a>
</li>
<li>
<a href=#%e4%bd%bf%e7%94%a8-vs-code-%e8%bf%9e%e6%8e%a5%e5%88%b0-wsl onclick="onNavClick(`#使用-vs-code-连接到-wsl-nav`)" id=使用-vs-code-连接到-wsl-nav>
使用 VS Code 连接到 WSL
</a>
</li>
<li>
<a href=#%e6%b7%bb%e5%8a%a0%e6%ba%90%e7%a0%81%e6%96%87%e4%bb%b6 onclick="onNavClick(`#添加源码文件-nav`)" id=添加源码文件-nav>
添加源码文件
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e5%ae%89%e8%a3%85-cc-%e6%89%a9%e5%b1%95 onclick="onNavClick(`#安装-cc-扩展-nav`)" id=安装-cc-扩展-nav>
安装 C/C++ 扩展
</a>
</li>
<li>
<a href=#%e8%be%93%e5%85%a5%e6%ba%90%e4%bb%a3%e7%a0%81 onclick="onNavClick(`#输入源代码-nav`)" id=输入源代码-nav>
输入源代码
</a>
</li>
</ul>
<li>
<a href=#%e7%bc%96%e8%af%91%e6%ba%90%e7%a0%81 onclick="onNavClick(`#编译源码-nav`)" id=编译源码-nav>
编译源码
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e8%bf%90%e8%a1%8c%e7%bc%96%e8%af%91%e4%bb%bb%e5%8a%a1 onclick="onNavClick(`#运行编译任务-nav`)" id=运行编译任务-nav>
运行编译任务
</a>
</li>
</ul>
<li>
<a href=#%e8%b0%83%e8%af%95-helloworldcpp onclick="onNavClick(`#调试-helloworldcpp-nav`)" id=调试-helloworldcpp-nav>
调试 helloworld.cpp
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e5%bc%80%e5%a7%8b%e8%b0%83%e8%af%95 onclick="onNavClick(`#开始调试-nav`)" id=开始调试-nav>
开始调试
</a>
</li>
</ul>
<li>
<a href=#%e5%85%b3%e9%97%ad onclick="onNavClick(`#关闭-nav`)" id=关闭-nav>
关闭
</a>
</li>
</ul>
</div>
</div>
<div class=pagination>
<a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }">
<i class="material-icons pagination-action-icon">
keyboard_arrow_up
</i>
</a>
<a class=pagination-action v-on:click=toggleDarkMode>
<i class="material-icons pagination-action-icon" v-if=isDarkMode>
brightness_4
</i>
<i class="material-icons pagination-action-icon" v-else=isDarkMode>
brightness_7
</i>
</a>
</div>
</div>
<div class=single-column-drawer-container ref=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
<div class=drawer-content>
<div class=drawer-menu>
<a class="a-block drawer-menu-item active" href=/posts>
归档
</a>
<a class="a-block drawer-menu-item false" href=/categories>
分类
</a>
<a class="a-block drawer-menu-item false" href=/about>
关于
</a>
<a class="a-block drawer-menu-item false" href=/index.xml>
RSS
</a>
<div class=toc>
<div class=toc-content>
<center>- 目录 -</center>
<ul>
<ul class=collapse data-toggle=collapse>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e8%af%91%e8%80%85%e5%ba%8f onclick="onNavClick(`#译者序-nav`)" id=译者序-nav>
译者序
</a>
</li>
</ul>
</ul>
<li>
<a href=#%e5%85%88%e5%86%b3%e6%9d%a1%e4%bb%b6 onclick="onNavClick(`#先决条件-nav`)" id=先决条件-nav>
先决条件
</a>
</li>
<li>
<a href=#%e8%ae%be%e7%bd%ae-linux-%e7%8e%af%e5%a2%83 onclick="onNavClick(`#设置-linux-环境-nav`)" id=设置-linux-环境-nav>
设置 Linux 环境
</a>
</li>
<li>
<a href=#%e4%bd%bf%e7%94%a8-vs-code-%e8%bf%9e%e6%8e%a5%e5%88%b0-wsl onclick="onNavClick(`#使用-vs-code-连接到-wsl-nav`)" id=使用-vs-code-连接到-wsl-nav>
使用 VS Code 连接到 WSL
</a>
</li>
<li>
<a href=#%e6%b7%bb%e5%8a%a0%e6%ba%90%e7%a0%81%e6%96%87%e4%bb%b6 onclick="onNavClick(`#添加源码文件-nav`)" id=添加源码文件-nav>
添加源码文件
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e5%ae%89%e8%a3%85-cc-%e6%89%a9%e5%b1%95 onclick="onNavClick(`#安装-cc-扩展-nav`)" id=安装-cc-扩展-nav>
安装 C/C++ 扩展
</a>
</li>
<li>
<a href=#%e8%be%93%e5%85%a5%e6%ba%90%e4%bb%a3%e7%a0%81 onclick="onNavClick(`#输入源代码-nav`)" id=输入源代码-nav>
输入源代码
</a>
</li>
</ul>
<li>
<a href=#%e7%bc%96%e8%af%91%e6%ba%90%e7%a0%81 onclick="onNavClick(`#编译源码-nav`)" id=编译源码-nav>
编译源码
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e8%bf%90%e8%a1%8c%e7%bc%96%e8%af%91%e4%bb%bb%e5%8a%a1 onclick="onNavClick(`#运行编译任务-nav`)" id=运行编译任务-nav>
运行编译任务
</a>
</li>
</ul>
<li>
<a href=#%e8%b0%83%e8%af%95-helloworldcpp onclick="onNavClick(`#调试-helloworldcpp-nav`)" id=调试-helloworldcpp-nav>
调试 helloworld.cpp
</a>
</li>
<ul class=collapse data-toggle=collapse>
<li>
<a href=#%e5%bc%80%e5%a7%8b%e8%b0%83%e8%af%95 onclick="onNavClick(`#开始调试-nav`)" id=开始调试-nav>
开始调试
</a>
</li>
</ul>
<li>
<a href=#%e5%85%b3%e9%97%ad onclick="onNavClick(`#关闭-nav`)" id=关闭-nav>
关闭
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<transition name=fade>
<div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div>
</transition>
<nav ref=navBar class="navbar sticky-top navbar-light single-column-nav-container">
<div ref=navBackground class=nav-background></div>
<div class="container container-narrow nav-content">
<button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>
menu
</i>
</button>
<a ref=navTitle class=navbar-brand href=https://quanuanc.github.io/>
太阳照常升起
</a>
<button type=button class=nav-darkmode-toggle v-on:click=toggleDarkMode>
<i class=material-icons v-if=isDarkMode>
brightness_4
</i>
<i class=material-icons v-else=isDarkMode>
brightness_7
</i>
</button>
</div>
</nav>
<div class=single-column-header-container ref=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
<a href=https://quanuanc.github.io/>
<div class=single-column-header-title>太阳照常升起</div>
<div class=single-column-header-subtitle>Quanuanc's Blog</div>
</a>
</div>
<div id=content>
<div ref=streamContainer class=stream-container>
<div class="post-list-container post-list-container-shadow">
<div class=post>
<div class=post-head-wrapper style=background-image:url(https://gitee.com/antfly2021/PicGo-IMG/raw/master/vscode-with-backgroud.png)>
<div class=post-title>
[译] 使用 VS Code 和 WSL 搭建 C++ 开发环境
<div class=post-meta>
<time itemprop=datePublished>
2020-02-07 00:00
</time>
<i class=material-icons>folder</i>
<a href=/categories/tech>Tech</a>
&nbsp;
<i class=material-icons>label</i>
<a href=/tags/vscode>vscode</a>
&nbsp;
<a href=/tags/c++>C++</a>
&nbsp;
</div>
</div>
</div>
<div class=post-body-wrapper>
<div class=post-body v-pre>
<h3 id=译者序>译者序</h3>
<p>本文翻译自 Visual Studio Code 官方说明文档 <a href=https://code.visualstudio.com/docs/cpp/config-wsl>Using C++ and WSL in VS Code</a></p>
<p><strong>本文根据原文内容意译，而非逐词逐句翻译，如需了解更多，推荐阅读原文</strong></p>
<hr>
<p>在本教程中，你将配置 Visual Studio Code，在 Windows Linux 子系统（WSL） Ubuntu 中使用 GCC C++编译器（g++）和 GDB 调试器。GCC 代表了 GNU 编译器集合，GDB 是 GNU 调试器。WSL 是 Windows 中的 Linux 环境，它直接运行在计算机硬件上，而非虚拟机中。</p>
<blockquote>
<p>Note: 本教程的大部分内容适用于直接在 Linux 机器上使用 C++ 和 VS Code。</p>
</blockquote>
<h1 id=先决条件>先决条件</h1>
<ol>
<li>安装 <a href=https://code.visualstudio.com/download>Visual Studio Code</a>（译者注：推荐下载 Zip 版本，开启 <a href=https://code.visualstudio.com/docs/editor/portable>便携模式</a>）</li>
<li>安装 <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl">Remote - WSL 扩展</a></li>
<li>安装 WSL，可以按照个人习惯选择 Linux 发行版。本文使用 <a href=https://www.microsoft.com/store/productId/9NBLGGH4MSV6>Ubuntu</a></li>
</ol>
<h1 id=设置-linux-环境>设置 Linux 环境</h1>
<ol>
<li>打开 WSL，进入系统中。</li>
</ol>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/image-20200207235224938.png alt=image-20200207235224938></p>
<ol start=2>
<li>
<p>建立 projects 文件夹，然后再建立 helloworld 子文件夹</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir projects
<span style=color:#8be9fd;font-style:italic>cd</span> projects
mkdir helloworld
</code></pre></div></li>
<li>
<p>安装编译和调试工具。在 Ubuntu 中安装只需要执行以下命令即可</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt-get update
sudo apt-get install build-essential gdb
</code></pre></div></li>
<li>
<p>确认以上工具是否已经安装成功</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>whereis g++
whereis gdb
</code></pre></div></li>
</ol>
<h1 id=使用-vs-code-连接到-wsl>使用 VS Code 连接到 WSL</h1>
<p>在 VS Code 连接到 WSL，打开 helloworld 文件夹。</p>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/image-20200209092920677.png alt=image-20200209092920677></p>
<p>你也可以在左下角状态栏看到连接状态。</p>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/image-20200209093241854.png alt=image-20200209093241854></p>
<p>如果你点击状态栏的 <strong>WSL: Ubuntu</strong>，你会看到一个下拉选单。点击 <strong>Close Remote Connection</strong> 就可以断开与 WSL 的连接。</p>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/image-20200209093649678.png alt=image-20200209093649678></p>
<h1 id=添加源码文件>添加源码文件</h1>
<p>在文件管理器标题栏中，点击 <strong>New File</strong> 按钮，并把文件命名为：helloworld.cpp。</p>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/new-file-button.png alt="New File title bar button"></p>
<h2 id=安装-cc-扩展>安装 C/C++ 扩展</h2>
<p>如果你还没安装 <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">Microsoft C/C++ extension</a> 扩展，VS Code 会提示你安装。</p>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/cpp-extension-notification.png alt="C++ extension notification"></p>
<h2 id=输入源代码>输入源代码</h2>
<p>输入你的 C++ 代码并保存。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;vector&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;string&gt;</span><span style=color:#ff79c6>
</span><span style=color:#ff79c6></span>
<span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;

<span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>()
{
   vector<span style=color:#ff79c6>&lt;</span>string<span style=color:#ff79c6>&gt;</span> msg {<span style=color:#f1fa8c>&#34;Hello&#34;</span>, <span style=color:#f1fa8c>&#34;C++&#34;</span>, <span style=color:#f1fa8c>&#34;World&#34;</span>, <span style=color:#f1fa8c>&#34;from&#34;</span>, <span style=color:#f1fa8c>&#34;VS Code&#34;</span>, <span style=color:#f1fa8c>&#34;and the C++ extension!&#34;</span>};

   <span style=color:#ff79c6>for</span> (<span style=color:#ff79c6>const</span> string<span style=color:#ff79c6>&amp;</span> <span style=color:#8be9fd;font-style:italic>word</span> : msg)
   {
      cout <span style=color:#ff79c6>&lt;&lt;</span> word <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34; &#34;</span>;
   }
   cout <span style=color:#ff79c6>&lt;&lt;</span> endl;
}
</code></pre></div><h1 id=编译源码>编译源码</h1>
<p>创建一个 task.json 文件，告诉 VS Code 如何编译这个程序。</p>
<p>在标题栏中选择 <strong>Terminal > Configure Default Build Task.</strong> 在下拉栏中，选择 <strong>g++ build active file.</strong> <img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/build-active-file.png alt="Tasks C++ build dropdown"></p>
<p>选择这个命令会在 <strong>.vscode</strong> 文件夹中创建 <strong>task.json</strong> 文件，它的内容如下：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#ff79c6>&#34;version&#34;</span>: <span style=color:#f1fa8c>&#34;2.0.0&#34;</span>,
  <span style=color:#ff79c6>&#34;tasks&#34;</span>: [
    {
      <span style=color:#ff79c6>&#34;type&#34;</span>: <span style=color:#f1fa8c>&#34;shell&#34;</span>,
      <span style=color:#ff79c6>&#34;label&#34;</span>: <span style=color:#f1fa8c>&#34;g++ build active file&#34;</span>,
      <span style=color:#ff79c6>&#34;command&#34;</span>: <span style=color:#f1fa8c>&#34;/usr/bin/g++&#34;</span>,
      <span style=color:#ff79c6>&#34;args&#34;</span>: [<span style=color:#f1fa8c>&#34;-g&#34;</span>, <span style=color:#f1fa8c>&#34;${file}&#34;</span>, <span style=color:#f1fa8c>&#34;-o&#34;</span>, <span style=color:#f1fa8c>&#34;${fileDirname}/${fileBasenameNoExtension}&#34;</span>],
      <span style=color:#ff79c6>&#34;options&#34;</span>: {
        <span style=color:#ff79c6>&#34;cwd&#34;</span>: <span style=color:#f1fa8c>&#34;/usr/bin&#34;</span>
      },
      <span style=color:#ff79c6>&#34;problemMatcher&#34;</span>: [<span style=color:#f1fa8c>&#34;$gcc&#34;</span>],
      <span style=color:#ff79c6>&#34;group&#34;</span>: {
        <span style=color:#ff79c6>&#34;kind&#34;</span>: <span style=color:#f1fa8c>&#34;build&#34;</span>,
        <span style=color:#ff79c6>&#34;isDefault&#34;</span>: <span style=color:#ff79c6>true</span>
      }
    }
  ]
}
</code></pre></div><h2 id=运行编译任务>运行编译任务</h2>
<ol>
<li>
<p>回到 helloworld.cpp，现在可以开始编译源代码了</p>
</li>
<li>
<p>按下快捷键 Ctrl + Shift + B</p>
</li>
<li>
<p>编译任务开始后，可以在终端界面中看到输出信息</p>
</li>
</ol>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/wsl-task-in-terminal.png alt="G++ build output in terminal"></p>
<ol start=4>
<li>在终端中输入 ./helloworld 即可运行程序</li>
</ol>
<h1 id=调试-helloworldcpp>调试 helloworld.cpp</h1>
<p>下一步，你会创建一个 launch.json，用以配置 VS Code 如何调用 GDB 调试器来调试程序。选择 <strong>Debug > Add Configuration&mldr;</strong> 然后选择 <strong>C++ (GDB/LLDB)</strong>。</p>
<p>在下拉栏中选择 <strong>g++ build and debug active file</strong>。</p>
<p>VS Code 会创建一个 launch.json 文件，内容如下：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#ff79c6>&#34;version&#34;</span>: <span style=color:#f1fa8c>&#34;0.2.0&#34;</span>,
  <span style=color:#ff79c6>&#34;configurations&#34;</span>: [
    {
      <span style=color:#ff79c6>&#34;name&#34;</span>: <span style=color:#f1fa8c>&#34;g++ build and debug active file&#34;</span>,
      <span style=color:#ff79c6>&#34;type&#34;</span>: <span style=color:#f1fa8c>&#34;cppdbg&#34;</span>,
      <span style=color:#ff79c6>&#34;request&#34;</span>: <span style=color:#f1fa8c>&#34;launch&#34;</span>,
      <span style=color:#ff79c6>&#34;program&#34;</span>: <span style=color:#f1fa8c>&#34;${fileDirname}/${fileBasenameNoExtension}&#34;</span>,
      <span style=color:#ff79c6>&#34;args&#34;</span>: [],
      <span style=color:#ff79c6>&#34;stopAtEntry&#34;</span>: <span style=color:#ff79c6>false</span>,
      <span style=color:#ff79c6>&#34;cwd&#34;</span>: <span style=color:#f1fa8c>&#34;${workspaceFolder}&#34;</span>,
      <span style=color:#ff79c6>&#34;environment&#34;</span>: [],
      <span style=color:#ff79c6>&#34;externalConsole&#34;</span>: <span style=color:#ff79c6>false</span>,
      <span style=color:#ff79c6>&#34;MIMode&#34;</span>: <span style=color:#f1fa8c>&#34;gdb&#34;</span>,
      <span style=color:#ff79c6>&#34;setupCommands&#34;</span>: [
        {
          <span style=color:#ff79c6>&#34;description&#34;</span>: <span style=color:#f1fa8c>&#34;Enable pretty-printing for gdb&#34;</span>,
          <span style=color:#ff79c6>&#34;text&#34;</span>: <span style=color:#f1fa8c>&#34;-enable-pretty-printing&#34;</span>,
          <span style=color:#ff79c6>&#34;ignoreFailures&#34;</span>: <span style=color:#ff79c6>true</span>
        }
      ],
      <span style=color:#ff79c6>&#34;preLaunchTask&#34;</span>: <span style=color:#f1fa8c>&#34;g++ build active file&#34;</span>,
      <span style=color:#ff79c6>&#34;miDebuggerPath&#34;</span>: <span style=color:#f1fa8c>&#34;/usr/bin/gdb&#34;</span>
    }
  ]
}
</code></pre></div><h2 id=开始调试>开始调试</h2>
<ol>
<li>回到 helloworld.cpp 文件</li>
<li>按下 F5 或者选择 <strong>Debug > Start Debugging</strong>。在开始逐步执行代码之前，让我们花点时间注意界面中的几个更改：</li>
</ol>
<ul>
<li>集成的终端会出现在编辑区的下方。在 <strong>Debug Output</strong> 标签页中，你可以看到代码的输出，这表明调试器已经启动并运行。</li>
<li>编辑器中高亮显示了 <code>main</code> 方法的第一行语句。这是 C++ 扩展自动为你设定的断点。</li>
</ul>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/wsl-breakpoint-default.png alt="Initial breakpoint"></p>
<ul>
<li>左侧的 <strong>Run</strong> 视图显示调试信息。</li>
<li>在代码编辑器的顶部，将显示一个调试控制面板。您可以通过按住左侧的点在屏幕上移动它。</li>
</ul>
<p><img src=https://gitee.com/antfly2021/PicGo-IMG/raw/master/debug-controls.png alt=debug-control></p>
<h1 id=关闭>关闭</h1>
<p>当您在 WSL 中完成工作后，可以使用 <strong>File</strong> 菜单中的 <strong>Close Remote Connection</strong> 命令和快捷键（Ctrl+Shift+P）关闭远程会话。 这将重新启动本地运行的 VS Code。您可以在 <strong>File</strong> > <strong>Open Recent</strong> 中选择带有 <strong>[WSL]</strong> 后缀的文件夹来重新打开 WSL 会话。</p>
<hr width=100% id=EOF>
<p style=color:#777>最后修改于 2020-02-07</p>
</div>
</div>
<nav class=post-pagination>
<a class=newer-posts href=https://quanuanc.github.io/posts/v2ex-borrow-money/>
下回<br>[转载]一个逢人必问：“可以借我 10 块钱吗?” 的土狗.....
</a>
<a class=older-posts href=https://quanuanc.github.io/about/>
上回<br>关于我
</a>
</nav>
<div class=post-comment-wrapper>
<div id=vcomments></div>
</div>
</div>
</div>
</div>
</div><div id=single-column-footer>
Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a>
<br>
&copy;
Quanuanc
</div>
</div>
<script>let app;app=new Vue({el:'#app',data:{scrollY:0,navOpacity:0,isDrawerOpen:!1,mounted:!1,isDarkMode:!1},methods:{sgn(a,b){let c=1/(1-2*a);return b<=a?0:b>=1-a?1:c*(b-a)},handleScroll(){this.scrollY=window.scrollY,this.navOpacity=this.sgn(0,Math.min(1,Math.max(0,window.scrollY/(this.pageHeadHeight()-this.navBarHeight()*.8))));const{navBar:c,navBackground:a,navTitle:b,extraContainer:d,streamContainer:e}=this.$refs;this.navOpacity>=1?(a.style.opacity=1,b.style.opacity=1):(a.style.opacity=0,b.style.opacity=0)},handleResize(){const{navBar:c,navBackground:d,navTitle:e,extraContainer:a,streamContainer:b}=this.$refs;a.style.left=b.offsetWidth-a.offsetWidth+'px'},navBarHeight(){return this.$refs.navBar.offsetHeight},pageHeadHeight(){return this.$refs.pageHead.offsetHeight},toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},closeDrawer(){this.isDrawerOpen=!1,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode==!0?(document.cookie="night=1;path=/",document.body.classList.add("night")):(document.cookie="night=0;path=/",document.body.classList.remove("night"))}},created(){window.addEventListener('scroll',this.handleScroll),window.addEventListener('resize',this.handleResize),window._nonDesktop=function(){let a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a};var a=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1");a==""?window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches:a=="1"&&this.toggleDarkMode()},mounted(){this.handleScroll(),this.handleResize(),this.mounted=!0,new Valine({el:'#vcomments',appId:"YNHHuxMmjf4DGJkaF0lejPC3-gzGzoHsz",appKey:"qJiHTvOjgVW54RIfGpQgEIjm",requiredFields:['nick','mail'],enableQQ:!0,recordIP:!0})},destroyed(){window.removeEventListener('scroll',this.handleScroll),window.removeEventListener('resize',this.handleResize)}})</script>
<script src=https://quanuanc.github.io//js/journal.js></script>
</body>
</html>